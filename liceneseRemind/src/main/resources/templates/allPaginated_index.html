<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Home</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width" />
<!--  <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--  <link-->
<!--          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"-->
<!--          rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"-->
<!--          crossorigin="anonymous">-->

  <link rel="stylesheet" href="/indexStyle.css" />
  <script type="module" src="script.js"></script>
</head>
<body>

<div class="sidebar">
 <a th:href="@{/subscriptions}"> <div href="/" class="logo">
    <svg
            width="100%"
            height="35"
            viewBox="0 0 245 37"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
    >
      <path
              d="M37 0L18.5 -2.42598e-06C8.28274 -3.76581e-06 1.41726e-05 8.28273 1.28328e-05 18.5V18.5C1.1493e-05 28.7173 8.28274 37 18.5 37L37 37L37 0Z"
              fill="white"
      />
      <path
              d="M36.9999 29.2106C30.9054 29.2106 25.9648 24.27 25.9648 18.1755C25.9648 12.081 30.9054 7.14041 36.9999 7.14041L36.9999 29.2106Z"
              fill="#FE3278"
      />
      <path
              d="M37.0001 29.2106C43.0946 29.2106 48.0352 24.27 48.0352 18.1755C48.0352 12.081 43.0946 7.14041 37.0001 7.14041L37.0001 29.2106Z"
              fill="#FCD451"
      />
      <path
              d="M22.0701 18.5C22.0701 15.4528 19.5998 12.9825 16.5525 12.9825V12.9825C13.5053 12.9825 11.035 15.4528 11.035 18.5V18.5C11.035 21.5473 13.5053 24.0176 16.5525 24.0176V24.0176C19.5998 24.0176 22.0701 21.5473 22.0701 18.5V18.5Z"
              fill="#5925DC"
      />
      <text
              fill="white"
              xml:space="preserve"
              style="white-space: pre"
              font-family="Poppins"
              font-size="20"
              font-weight="600"
              letter-spacing="0em"
      >
                    <tspan x="64.0352" y="25.5" class="license-sidebar">License Reminder</tspan>
                  </text>
    </svg>
 </div> </a>
  <ul class="actions">
    <li>
      <a th:href="@{/subscriptions}" class="active">
        <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
        >
          <path
                  d="M17 10H19C21 10 22 9 22 7V5C22 3 21 2 19 2H17C15 2 14 3 14 5V7C14 9 15 10 17 10Z"
                  stroke="#141522"
                  stroke-width="1.5"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                  stroke-linejoin="round"
          />
          <path
                  d="M5 22H7C9 22 10 21 10 19V17C10 15 9 14 7 14H5C3 14 2 15 2 17V19C2 21 3 22 5 22Z"
                  stroke="#141522"
                  stroke-width="1.5"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                  stroke-linejoin="round"
          />
          <path
                  d="M6 10C8.20914 10 10 8.20914 10 6C10 3.79086 8.20914 2 6 2C3.79086 2 2 3.79086 2 6C2 8.20914 3.79086 10 6 10Z"
                  stroke="#141522"
                  stroke-width="1.5"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                  stroke-linejoin="round"
          />
          <path
                  d="M18 22C20.2091 22 22 20.2091 22 18C22 15.7909 20.2091 14 18 14C15.7909 14 14 15.7909 14 18C14 20.2091 15.7909 22 18 22Z"
                  stroke="#141522"
                  stroke-width="1.5"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                  stroke-linejoin="round"
          />
        </svg>

        Overview
      </a>
    </li>
  </ul>
</div>

<main class="main">
  <!-- NAVBAR -->
  <nav>
    <h1>Subscriptions and Reminder</h1>
    <div class="actions">
      <input type="search" placeholder="Search for something" />
      <button>
        <svg
                width="25"
                height="25"
                viewBox="0 0 25 25"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0_1586_496)">
            <path
                    d="M13.2845 25H11.7155C10.4465 25 9.41401 23.9676 9.41401 22.6986V22.1678C8.87451 21.9954 8.35034 21.7778 7.84678 21.5172L7.47061 21.8934C6.55952 22.8056 5.1001 22.7789 4.21548 21.8931L3.10654 20.7842C2.22036 19.899 2.19487 18.44 3.10684 17.5291L3.48271 17.1532C3.22212 16.6496 3.00459 16.1255 2.83218 15.5859H2.30142C1.03247 15.5859 0 14.5535 0 13.2845V11.7155C0 10.4465 1.03247 9.41406 2.30146 9.41406H2.83223C3.00464 8.87451 3.22217 8.35039 3.48276 7.84683L3.10659 7.4707C2.19517 6.56025 2.22031 5.10117 3.10688 4.21558L4.21592 3.10659C5.10259 2.2187 6.56167 2.19653 7.471 3.10688L7.84683 3.48271C8.35039 3.22217 8.87456 3.00459 9.41406 2.83218V2.30142C9.41406 1.03242 10.4465 0 11.7155 0H13.2845C14.5535 0 15.5859 1.03242 15.5859 2.30142V2.83223C16.1254 3.00459 16.6496 3.22217 17.1532 3.48276L17.5293 3.10659C18.4404 2.19438 19.8999 2.22114 20.7845 3.10693L21.8934 4.21582C22.7796 5.10103 22.8051 6.55996 21.8931 7.47095L21.5172 7.84683C21.7778 8.35039 21.9954 8.87446 22.1678 9.41406H22.6985C23.9675 9.41406 25 10.4465 25 11.7155V13.2845C25 14.5535 23.9675 15.5859 22.6985 15.5859H22.1678C21.9954 16.1255 21.7778 16.6496 21.5172 17.1532L21.8934 17.5293C22.8048 18.4398 22.7797 19.8989 21.8931 20.7845L20.7841 21.8935C19.8974 22.7813 18.4383 22.8035 17.529 21.8932L17.1532 21.5173C16.6496 21.7779 16.1254 21.9955 15.5859 22.1679V22.6987C15.5859 23.9676 14.5535 25 13.2845 25V25ZM8.09165 19.979C8.79121 20.3927 9.54414 20.7053 10.3295 20.908C10.6529 20.9914 10.8789 21.2831 10.8789 21.6171V22.6986C10.8789 23.1599 11.2542 23.5352 11.7155 23.5352H13.2845C13.7458 23.5352 14.1211 23.1599 14.1211 22.6986V21.6171C14.1211 21.2831 14.3471 20.9914 14.6706 20.908C15.4559 20.7053 16.2088 20.3927 16.9084 19.979C17.1962 19.8088 17.5627 19.8551 17.7992 20.0916L18.5652 20.8576C18.8955 21.1883 19.4258 21.1806 19.748 20.858L20.8577 19.7483C21.1791 19.4273 21.1898 18.8968 20.858 18.5654L20.0916 17.7991C19.8552 17.5626 19.8089 17.1961 19.9791 16.9083C20.3928 16.2088 20.7053 15.4559 20.908 14.6705C20.9915 14.3471 21.2832 14.1211 21.6172 14.1211H22.6986C23.1599 14.1211 23.5352 13.7458 23.5352 13.2846V11.7155C23.5352 11.2542 23.1599 10.879 22.6986 10.879H21.6172C21.2832 10.879 20.9915 10.653 20.908 10.3296C20.7053 9.54419 20.3928 8.79126 19.9791 8.09175C19.8089 7.80395 19.8552 7.43745 20.0916 7.20103L20.8577 6.43496C21.1889 6.1042 21.1802 5.57393 20.858 5.2521L19.7484 4.14248C19.4268 3.82041 18.8963 3.81099 18.5655 4.14219L17.7992 4.90854C17.5628 5.14502 17.1962 5.19131 16.9084 5.02109C16.2089 4.60737 15.456 4.29482 14.6706 4.09214C14.3472 4.00869 14.1212 3.71699 14.1212 3.38296V2.30142C14.1212 1.84014 13.7458 1.46484 13.2846 1.46484H11.7156C11.2543 1.46484 10.879 1.84014 10.879 2.30142V3.38286C10.879 3.71689 10.653 4.00859 10.3295 4.09204C9.54419 4.29473 8.79126 4.60728 8.0917 5.021C7.80381 5.19116 7.43735 5.14487 7.20093 4.90845L6.43491 4.14238C6.10464 3.81172 5.57422 3.81938 5.2521 4.14204L4.14238 5.25171C3.821 5.57271 3.81025 6.10312 4.14209 6.43457L4.90845 7.20093C5.14487 7.43735 5.19116 7.80386 5.021 8.09165C4.60728 8.79116 4.29478 9.54409 4.09209 10.3295C4.00859 10.6529 3.71689 10.8789 3.38291 10.8789H2.30146C1.84019 10.8789 1.46484 11.2542 1.46484 11.7155V13.2845C1.46484 13.7458 1.84019 14.1211 2.30146 14.1211H3.38286C3.71689 14.1211 4.00854 14.3471 4.09204 14.6705C4.29473 15.4559 4.60728 16.2088 5.02095 16.9083C5.19111 17.1961 5.14482 17.5626 4.9084 17.799L4.14233 18.5651C3.81118 18.8959 3.81982 19.4261 4.14204 19.7479L5.25166 20.8576C5.57329 21.1796 6.10376 21.1891 6.43452 20.8579L7.20083 20.0915C7.37505 19.9173 7.7375 19.7695 8.09165 19.979V19.979Z"
                    fill="#718EBF"
            />
            <path
                    d="M12.5 17.9395C9.50063 17.9395 7.06055 15.4993 7.06055 12.5C7.06055 9.50068 9.50063 7.06055 12.5 7.06055C15.4994 7.06055 17.9395 9.50068 17.9395 12.5C17.9395 15.4993 15.4994 17.9395 12.5 17.9395V17.9395ZM12.5 8.52539C10.3083 8.52539 8.52539 10.3084 8.52539 12.5C8.52539 14.6916 10.3084 16.4746 12.5 16.4746C14.6916 16.4746 16.4746 14.6916 16.4746 12.5C16.4746 10.3084 14.6917 8.52539 12.5 8.52539V8.52539Z"
                    fill="#718EBF"
            />
          </g>
          <defs>
            <clipPath id="clip0_1586_496">
              <rect width="25" height="25" fill="white" />
            </clipPath>
          </defs>
        </svg>
      </button>
      <button>
        <svg
                width="25"
                height="25"
                viewBox="0 0 25 25"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
        >
          <path
                  d="M11.4419 25C9.28888 25 7.53564 23.2479 7.53564 21.0938C7.53564 20.6625 7.88564 20.3125 8.31689 20.3125C8.74815 20.3125 9.09814 20.6625 9.09814 21.0938C9.09814 22.3866 10.1502 23.4375 11.4419 23.4375C12.7336 23.4375 13.7856 22.3866 13.7856 21.0938C13.7856 20.6625 14.1356 20.3125 14.5669 20.3125C14.9981 20.3125 15.3481 20.6625 15.3481 21.0938C15.3481 23.2479 13.5951 25 11.4419 25V25Z"
                  fill="#FE5C73"
          />
          <path
                  d="M20.0357 21.875H2.84824C1.84307 21.875 1.02539 21.0573 1.02539 20.0521C1.02539 19.5187 1.25771 19.0136 1.66283 18.6666C1.68896 18.6438 1.717 18.623 1.74618 18.6041C3.2753 17.2697 4.15039 15.35 4.15039 13.3228V10.4166C4.15039 6.39591 7.42226 3.125 11.442 3.125C11.6087 3.125 11.7889 3.12805 11.9556 3.15628C12.3816 3.22704 12.6692 3.63026 12.5982 4.05521C12.5275 4.48017 12.117 4.7678 11.6993 4.69685C11.6159 4.6833 11.5244 4.6875 11.442 4.6875C8.28381 4.6875 5.71289 7.25727 5.71289 10.4166V13.3228C5.71289 15.8396 4.60968 18.2209 2.68898 19.8551C2.67334 19.8677 2.6598 19.8792 2.64301 19.8906C2.61498 19.9261 2.58789 19.9802 2.58789 20.0521C2.58789 20.1937 2.70672 20.3125 2.84824 20.3125H20.0357C20.1775 20.3125 20.2963 20.1937 20.2963 20.0521C20.2963 19.9791 20.2692 19.9261 20.24 19.8906C20.2244 19.8792 20.2108 19.8677 20.1952 19.8551C18.2734 18.2198 17.1713 15.8396 17.1713 13.3228V12.1876C17.1713 11.7563 17.5213 11.4063 17.9525 11.4063C18.3838 11.4063 18.7338 11.7563 18.7338 12.1876V13.3228C18.7338 15.3511 19.6098 17.2718 21.1411 18.6073C21.1691 18.626 21.1962 18.6459 21.2212 18.6678C21.6265 19.0136 21.8588 19.5187 21.8588 20.0521C21.8588 21.0573 21.0411 21.875 20.0357 21.875V21.875Z"
                  fill="#FE5C73"
          />
          <path
                  d="M18.7338 10.4166C15.8619 10.4166 13.5254 8.08029 13.5254 5.2084C13.5254 2.3365 15.8619 0 18.7338 0C21.6057 0 23.942 2.3365 23.942 5.2084C23.942 8.08029 21.6057 10.4166 18.7338 10.4166V10.4166ZM18.7338 1.5625C16.7233 1.5625 15.0879 3.19786 15.0879 5.2084C15.0879 7.21874 16.7233 8.8541 18.7338 8.8541C20.7441 8.8541 22.3795 7.21874 22.3795 5.2084C22.3795 3.19786 20.7441 1.5625 18.7338 1.5625V1.5625Z"
                  fill="#FE5C73"
          />
        </svg>
      </button>
    </div>
  </nav>

  <!-- ROW 1 -->
  <div class="row-1">
    <div class="metrics">
      <div class="metric">
        <div class="label">PENDING</div>
        <div class="count">[[${pendingCount}]]</div>
      </div>
      <div class="metric">
        <div class="label">ACTIVE</div>
        <div class="count">[[${activeCount}]]</div>
      </div>
      <div class="metric">
        <div class="label">EXPIRED</div>
        <div class="count">[[${overdueCount}]]</div>
      </div>
    </div>
  </div>
  <!-- TABS -->
  <div class="tabs">
    <div class="tab inside">
      <a th:href="@{/subscriptions}" class="tab active">All</a>
      <a th:href="@{/pendingSub}" class="tab">Pending</a>
      <a th:href="@{/overdueSub}" class="tab">Expired</a>
      <a th:href="@{/activeSub}" class="tab">Active</a>
    </div>
    <div>
      <a th:href="@{/sub/new}" class="add-button">+ Add New Subscription</a>
    </div>
  </div>

  <!-- TABLE -->
  <table>
    <tr>
      <th>license</th>
      <th>Department</th>
      <th>Responsibility</th>
      <th>Description</th>
      <th>Date</th>
      <th>Email</th>
      <th>Status</th>
    </tr>
    <tr  th:each="sub:${listSubscription}">
      <td>
        <div class="flex">
          <svg
                  width="31"
                  height="30"
                  viewBox="0 0 31 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
          >
            <path
                    d="M1.00009 15C1.00009 7.28746 7.38916 1 15.3144 1C23.2396 1 29.6287 7.28746 29.6287 15C29.6287 22.7125 23.2396 29 15.3144 29C7.38917 29 1.00009 22.7125 1.00009 15Z"
                    stroke="#F68633"
                    stroke-width="2"
            />
            <path
                    d="M14.7841 20.0303C15.077 20.3232 15.5519 20.3232 15.8448 20.0303L20.6178 15.2574C20.9106 14.9645 20.9106 14.4896 20.6178 14.1967C20.3249 13.9038 19.85 13.9038 19.5571 14.1967L15.3145 18.4393L11.0718 14.1967C10.7789 13.9038 10.304 13.9038 10.0112 14.1967C9.71826 14.4896 9.71826 14.9645 10.0112 15.2574L14.7841 20.0303ZM14.5645 9L14.5645 19.5L16.0645 19.5L16.0645 9L14.5645 9Z"
                    fill="#F68633"
            />
          </svg>
          <span th:text="${sub.licensePermitName}"></span>
        </div>
      </td>
      <td th:text="${sub.department}"></td>
      <td th:text="${sub.name}"></td>
      <td th:text="${sub.description}"></td>
      <td th:text="${sub.expiryDate}"></td>
      <td th:text="${sub.email}"></td>
      <td>
        <a class="paid-tag" th:if="${sub.status.toString() != sub.status.ACTIVE.toString() || sub.status.toString() == sub.status.ACTIVE.toString()}"
           th:href="@{/sub/new}"
           th:text="${sub.status.toString()}"
           th:class="${sub.status.toString() == sub.status.PENDING.toString() ? 'pending-tag' : (sub.status.toString() == sub.status.ACTIVE.toString() ? 'active-tag' : 'overdue-tag')}"
           th:style="${sub.status.toString() == sub.status.ACTIVE.toString() ? 'pointer-events: none;' : ''}">
        </a>
      </td>
      </td>
    </tr>
  </table>
  <div th:if="${totalPages > 1}" class="pagination-container">
    <div class="page">Total Rows: [[${totalItems}]] </div>
    <div class="page active">
      <a class="link" th:if="${currentPage > 1}" th:href="@{'/page/' + ${currentPage - 1 }}">Previous</a>
      <span th:unless="${currentPage > 1}">Previous</span>
    </div>
    <div >
      <span th:each="i: ${#numbers.sequence(1, totalPages)}">
      <a class="link" th:if="${currentPage != i}" th:href="@{'/page/' + ${i}}">[[${i}]]</a>
         <span th:unless="${currentPage != i}">[[${i}]]</span> &nbsp;&nbsp;
      </span>
    </div>
    <div class="page active">
        <a class="link" th:if="${currentPage < totalPages}" th:href="@{'/page/' + ${currentPage + 1 }}">Next</a>
        <span th:unless="${currentPage < totalPages}"> Next</span>
      </div>
    <div class="page active">
      <a class="link" th:if="${currentPage < totalPages}" th:href="@{'/page/' + ${totalPages}}">Last</a>
      <span th:unless="${currentPage < totalPages}">Last</span>
    </div>
  </div>

</main>

</body>
</html>